<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>  
<c:forEach var="list" items="${bl }"><table>
<tr><td>${list.getBdate() }</td><td>${ list.getBrest()}</td><td>${list.getBuser()}</td><td>${ list.getBinout()}</td><td>${list.getBmemo()}</td></tr>
</table></c:forEach>

<table border="1">
  <tr>
   <th colspan="5">스프링 mvc게시판 목록</th>
  </tr>
  <tr>
  <td colspan="5" align="right"> 총 게시물수 : <b>${totalCount }</b>개
  </tr>
  <tr>
	<th>날짜</th>	<th>잔액</th>	<th>사용자</th>	<th>사용 금액</th><th>내역</th>
  </tr>
  <c:if test="${!empty bl }">
   <c:forEach var= "list" items="${bl }">
   <tr>
    <th>${list.getBdate() }</th>
    <th>${list.getBrest() }</th>
    <th>${list.getBuser() }</th>
    <th>${list.getBinout() }</th>
    <th>${list.getBmemo() }</th>
  </tr></c:forEach></c:if>
  
    <c:if test="${empty bl }">
  <tr>
   <th colspan="5">게시판 목록이 없습니다!</th></tr></c:if>
   
    <tr>
   		<th colspan="5">
   			<c:if test="${page<=1 }">
   				[이전]&nbsp;
   			</c:if>
   			<c:if test="${page>1 }">
   				<a href="/web/blistall?page=${page-1 }">[이전]</a>&nbsp;
   			</c:if>
   			
   			<%--현재쪽 번호 출력 --%>
   			<c:forEach var="a" begin="${startpage }" end="${endpage }" step="1">
   				<c:if test="${a==page }"><%--현재 쪽번호가 선택된 경우는 링크 없어도됨 --%>
   					 <${a }>
   				</c:if>
   				<c:if test="${a!=page}">
   					<a href="/web/blistall?page=${a }">[${a }]</a>&nbsp;
   					
   				</c:if>
   			</c:forEach>
   			<c:if test="${page>=endpage }"><!-- maxpage =>endpage로바꾸면..? -->
   			[다음]
   			</c:if>
   			<c:if test="${page<endpage }">
   			<a href="/web/blistall?page=${page+1 }">[다음]</a>
   			</c:if>
   			
   		</th>
   </tr>
   
  


</table>
</body>
</html>